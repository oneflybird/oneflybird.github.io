<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    

<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta name="keywords" content="archlinux基础安装步骤, One Fly Bird&#39;s Nest">
    <meta name="description" content="使用虚拟机安装archlinux的步骤简单介绍,一下都是legacy启动模式

参考资料
ArchWiki，根据上面指令即可完成安装
在 VirtualBox 里安装 Arch Linux 操作系统
linux下（fdisk,gdisk,p">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>archlinux基础安装步骤 | One Fly Bird&#39;s Nest</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

</head>

<body>

<header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="container">
            <div class="nav-wrapper">
                <div class="brand-logo">
                    <a href="/" class="waves-effect waves-light">
                        
                        <img src="/medias/logo.png" class="logo-img hide-on-small-only">
                        
                        <span class="logo-span">One Fly Bird's Nest</span>
                    </a>
                </div>
                <a href="#" data-activates="mobile-nav" class="button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>Index</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>Tags</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>Categories</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>Archives</span>
        </a>
    </li>
    
    <li>
        <a id="toggleSearch" class="waves-effect waves-light">
            <i id="searchIcon" class="mdi-action-search"></i>
        </a>
    </li>

</ul>

<div class="side-nav" id="mobile-nav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">One Fly Bird's Nest</div>
        <div class="logo-desc">
            
            我的目标是星辰大海
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                Index
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                Tags
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                Categories
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                Archives
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/oneflybird" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>

    <div class="social-link"><a href="https://github.com/oneflybird" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
    <i class="fa fa-github"></i>
</a>
<a href="mailto:1361569005@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
    <i class="fa fa-envelope-open"></i>
</a>
<a href="#!" class="tooltipped" data-tooltip="QQ联系我: 1361569005" data-position="top" data-delay="50">
    <i class="fa fa-qq"></i>
</a>
</div>
</div>

            </div>
        </div>

        
        <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #b3e0ff;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/oneflybird" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewbox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/>
    </svg>
</a>
        
    </nav>
</header>



<div class="bg-cover post-cover" style="background-image: url('http://www.yangdog.com/uploads/allimg/161102/0946001632-0.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        archlinux基础安装步骤
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1,
    #articleContent h2,
    #articleContent h3,
    #articleContent h4,
    #articleContent h5,
    #articleContent h6 {
        padding-top: 76px;
        margin-top: -76px;
    }

    #articleContent h1 {
        line-height: 3.5rem;
    }

    #articleContent h2 {
        line-height: 3.2rem;
    }

    #articleContent h3 {
        line-height: 2.8rem;
    }

    #articleContent h4 {
        line-height: 2.5rem;
    }

    #articleContent h5 {
        line-height: 2.2rem;
    }

    #articleContent h6 {
        line-height: 1.9rem;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }
</style>
<div class="row">
    <div class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            
            <div class="article-tag">
                
                <a href="/tags/basic/" target="_blank">
                    <span class="chip bg-color">basic</span>
                </a>
                
            </div>
            
            <div class="post-info">
                
                <span class="post-cate">
                    <i class="fa fa-bookmark fa-fw icon-category"></i>
                    
                    <a href="/categories/linux/" class="post-category" target="_blank">
                        linux
                    </a>
                    
                </span>
                

                <span class="post-date">
                    <i class="fa fa-clock-o fa-fw"></i>2018-11-18
                </span>
            </div>
        </div>
        <hr>
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>使用虚拟机安装archlinux的步骤简单介绍,一下都是legacy启动模式</p>
<hr>
<h2><span id="参考资料">参考资料</span></h2><ol>
<li><a href="https://wiki.archlinux.org/index.php/Installation_guide" target="_blank" rel="noopener">ArchWiki</a>，根据上面指令即可完成安装</li>
<li><a href="https://www.jianshu.com/p/98b8965b1d10" target="_blank" rel="noopener">在 VirtualBox 里安装 Arch Linux 操作系统</a></li>
<li><a href="https://www.cnblogs.com/zhaojiedi1992/p/zhaojiedi_linux_039_fdisk_gdisk_parted.html" target="_blank" rel="noopener">linux下（fdisk,gdisk,parted）三种分区工具比较</a></li>
<li><a href="http://blog.51cto.com/wushank/1244191" target="_blank" rel="noopener">linux分区之ext2,ext3,ext4,gpt</a></li>
<li><a href="https://blog.csdn.net/qq_39521554/article/details/79501714" target="_blank" rel="noopener">Linux学习笔记（二）：什么是挂载？mount的用处在哪?</a></li>
<li><a href="https://my.oschina.net/itlangz/blog/1936094" target="_blank" rel="noopener">Arch Linux 基本系统安装教程( UEFI+GPT ) </a></li>
</ol>
<hr>
<h2><span id="archlinux和linux的联系">ArchLinux和Linux的联系</span></h2><p>商家将Linux系统的内核与外围应用软件和文档包装起来, 并提供系统安装界面和系统设置管理工具, 这样就构成了一个发行版本, <strong>ArchLinux</strong>是其中一个发行版本。</p>
<h3><span id="archlinux-principles">Archlinux Principles</span></h3><blockquote>
<ul>
<li><p>Simplicity:  Arch Linux defines simplicity as <em>without unnecessary additions or modifications</em>.</p>
</li>
<li><p>Modernity:  a one-time installation with continuous upgrades</p>
</li>
<li><p>Pragmatism(实用): The large number of packages and build scripts in the various Arch Linux repositories offer free and open source software for those who prefer it, as well as proprietary software packages for those who embrace functionality over ideology.                  </p>
</li>
<li><p>翻译：Arch Linux 的仓库中包含大量的软件包和编译脚本。用户可以按照需要进行自由选择。仓库中既提供了开源、自由的软件，也提供了闭源软件。<strong>实用性大于意识形态</strong>.</p>
</li>
<li><p>User centrality: All users are encouraged to <a href="https://wiki.archlinux.org/index.php/Getting_involved" target="_blank" rel="noopener">participate</a> and contribute to the distribution.</p>
</li>
<li><p>Versality(通用): Arch Linux is a general-purpose distribution. Upon installation, only a command-line environment is provided: rather than tearing out unneeded and unwanted packages, the user is offered the ability to build a custom system by choosing among thousands of high-quality packages provided in the <a href="https://wiki.archlinux.org/index.php/Official_repositories" target="_blank" rel="noopener">official repositories</a> for the <a href="https://en.wikipedia.org/wiki/x86-64" target="_blank" rel="noopener">x86-64</a> architecture.</p>
<p>Arch is backed by <a href="https://wiki.archlinux.org/index.php/Pacman" target="_blank" rel="noopener">pacman</a>, a lightweight, simple and fast package manager that allows to upgrade the entire system with one command. Arch also provides the <a href="https://wiki.archlinux.org/index.php/Arch_Build_System" target="_blank" rel="noopener">Arch Build System</a>, a ports-like system to make it easy to build and install packages from source, which can also be synchronized with one command. In addition, the <em>Arch User Repository</em> contains many thousands more of community-contributed <a href="https://wiki.archlinux.org/index.php/PKGBUILD" target="_blank" rel="noopener">PKGBUILD</a> scripts for compiling installable packages from source using the <a href="https://wiki.archlinux.org/index.php/Makepkg" target="_blank" rel="noopener">makepkg</a> application. It is also possible for users to build and maintain their own custom repositories with ease. </p>
<p>翻译：Arch Linux 是通用发行版，初始安装仅提供命令行环境：用户不需要删除大量不需要的软件包，而是可以从<a href="https://wiki.archlinux.org/index.php/%E5%AE%98%E6%96%B9%E8%BD%AF%E4%BB%B6%E4%BB%93%E5%BA%93" target="_blank" rel="noopener">官方软件仓库</a>成千上万的高质量软件包中进行选择，搭建自己的系统。支持<a href="https://en.wikipedia.org/wiki/x86-64" target="_blank" rel="noopener">x86-64</a> 架构。</p>
<p>Arch有一个易用的<a href="https://en.wikipedia.org/wiki/Package_manager" target="_blank" rel="noopener">包管理系统</a><a href="https://wiki.archlinux.org/index.php/Pacman_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" target="_blank" rel="noopener">Pacman</a>)，仅凭一条命令就升级整个系统。Arch还提供一个类似ports的包构建系统（<a href="https://wiki.archlinux.org/index.php/Arch_Build_System_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" target="_blank" rel="noopener">Arch Build System</a>)），通过它可以轻松从源码构建和安装软件包，并用一个命令完成同步。你甚至可以用一个命令重新构建整个系统。Arch还提供<a href="https://wiki.archlinux.org/index.php/Arch_User_Repository_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" target="_blank" rel="noopener">Arch User Repository</a>)，它包含了数千个由用户维护的<a href="https://wiki.archlinux.org/index.php/PKGBUILD_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" target="_blank" rel="noopener">PKGBUILD</a>)脚本，配合<a href="https://wiki.archlinux.org/index.php/Makepkg_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" target="_blank" rel="noopener">makepkg</a>)工具，从编译到打包一气呵成。用户还能轻松构建和维护属于自己的自定义软件源。                                                                                                                      </p>
</li>
</ul>
</blockquote>
<h3><span id="算了还是用中文吧">算了还是用中文吧</span></h3><h2><span id="准备工作">准备工作</span></h2><h3><span id="下载archlinux">下载archlinux</span></h3><p>推荐从<a href="https://mirrors.tuna.tsinghua.edu.cn/archlinux/iso/" target="_blank" rel="noopener">清华镜像站</a>任选一个版本下载</p>
<h4><span id="什么是开源镜像站">什么是开源镜像站</span></h4><p>因为源的主机在一个地方，其它一些稍微远的地方的机器从这个源上更新比较慢，所以就会在离自己近的地方将这个源同步复制过来，这样从镜像站的源更新就会比之前快很多了。所以这就是为什么会有很多大学镜像站，因为都是同步到了校园内的主机，对于校园内网来说速度会飞快。（然而hdu并没有嘤嘤嘤）</p>
<h4><span id="不同的iso版本有什么区别吗">不同的ISO版本有什么区别吗</span></h4><p>我也不知道，大概没有吧</p>
<h4><span id="x86-64">x86-64</span></h4><p>X86-64可在同一时间内处理64位的整数运算，并兼容X86-32架构。其中支持64位逻辑定址，同时提供转换为32位定址选项；但数据操作指令默认为32位和8位，提供转换成64位和16位的选项；支持常规用途<a href="https://baike.baidu.com/item/%E5%AF%84%E5%AD%98%E5%99%A8/187682" target="_blank" rel="noopener">寄存器</a>，如果是32<a href="https://baike.baidu.com/item/%E4%BD%8D%E8%BF%90%E7%AE%97" target="_blank" rel="noopener">位运算</a>操作，就要将结果扩展成完整的64位。这样，指令中有“直接执行”和“转换执行”的区别，其指令字段是8位或32位，可避免字段过长。x86处理器的32bit<a href="https://baike.baidu.com/item/%E5%AF%BB%E5%9D%80%E7%A9%BA%E9%97%B4/7848599" target="_blank" rel="noopener">寻址空间</a>限制在4GB内存，而IA-64的处理器又不能兼容x86。AMD考虑顾客需求，加强x86<a href="https://baike.baidu.com/item/%E6%8C%87%E4%BB%A4%E9%9B%86/238130" target="_blank" rel="noopener">指令集</a>的功能，使这套指令集可同时支持64位的运算模式，因此AMD把它们的结构称之为x86-64。<strong>总之最近几年的电脑都是64位处理器的cpu</strong></p>
<h3><span id="在虚拟机上导入archlinux的iso">在虚拟机上导入archlinux的iso</span></h3><p>选择x64，若未跳出此选项进入bios（一般是F2，F10和Del键）enable虚拟机选项</p>
<h4><span id="bios的两种形式">BIOS的两种形式</span></h4><p><strong>BIOS包含UEFI和legacy（传统）两种启动模式</strong>，<strong>UEFI</strong>全称“统一的可扩展固件接口”(Unified Extensible Firmware Interface)， 是一种详细描述类型接口的标准。这种接口用于操作系统自动从预启动的操作环境，加载到一种操作系统上。UEFI方式减少了BIOS的自检过程，因此能够缩短开机时间，UEFI只支持64为系统且磁盘分区必须为gpt模式。如果你的PC在UEFI启动模式下预装了Win10，你会发现有两个很小的隐藏分区。一个叫<strong>ESP</strong>(EFI系统分区)，另一个<strong>MSR</strong>(Microsoft保留分区，通常为128MB)，MSR是windows要求的。ESP对UEFI启动模式很重要，UEFI的引导程序是以后缀名为.efi的文件存放在ESP分区中的，ESP分区采用fat32文件系统。此外，可能还存在一个小分区叫<strong>WinRETools</strong>，这个是win10的恢复分区</p>
<h4><span id="csm">CSM</span></h4><p>CSM是一个兼容支持模块，可以让新的UEFI BIOS兼容老的legacy+MBR启动模式。</p>
<h4><span id="gpt">GPT</span></h4><p>GPT是一种<strong>新型磁盘模式</strong>，与我们常用的MBR磁盘相比更稳定，自纠错能力更强，一块磁盘上主分区数量不受限制，支持大于2T的总容量及大于2T的分区，并且几乎没有上限，最大支持到128个分区，分区大小支持到256TB。</p>
<blockquote>
<p>补充：GPT和MBR和都是引导硬盘或者u盘进去<a href="https://www.baidu.com/s?wd=%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao" target="_blank" rel="noopener">操作系统</a>的主<a href="https://www.baidu.com/s?wd=%E5%BC%95%E5%AF%BC%E6%96%87%E4%BB%B6&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao" target="_blank" rel="noopener">引导文件</a>，MBR识别最大2TB的分区，GPT可以识别最大256TB分区， 相比之下MBR更安全。</p>
</blockquote>
<hr>
<h2><span id="安装archlinux">安装archlinux</span></h2><p>不是UEFI模式，不需要验证启动模式。</p>
<hr>
<h3><span id="connect-to-the-lnternet">Connect to the lnternet</span></h3><p>The installation image enables the <a href="https://wiki.archlinux.org/index.php/Dhcpcd" target="_blank" rel="noopener">dhcpcd</a> daemon for <a href="https://git.archlinux.org/archiso.git/tree/configs/releng/airootfs/etc/udev/rules.d/81-dhcpcd.rules" target="_blank" rel="noopener">wired network devices</a> on boot. The connection may be verified with <a href="https://en.wikipedia.org/wiki/ping_(networking_utility" target="_blank" rel="noopener">ping</a>): </p>
<pre><code># ping archlinux.org
</code></pre><p>If no connection is available, <a href="https://wiki.archlinux.org/index.php/Stop" target="_blank" rel="noopener">stop</a> the <em>dhcpcd</em> service with <code>systemctl stop dhcpcd@*interface*</code> where the  <em>interface</em> name can be <a href="https://en.wikipedia.org/wiki/Command-line_completion" target="_blank" rel="noopener">tab-completed</a>. Proceed to configure the network as described in <a href="https://wiki.archlinux.org/index.php/Network_configuration" target="_blank" rel="noopener">Network configuration</a>.</p>
<h4><span id="dhcped">dhcped</span></h4><p>The <a href="https://www.archlinux.org/packages/?name=dhcpcd" target="_blank" rel="noopener">dhcpcd</a> package is part of the <a href="https://www.archlinux.org/groups/x86_64/base/" target="_blank" rel="noopener">base</a> group, so it is likely already installed on your system.</p>
<p>DHCP（Dynamic Host Configuration Protocol，动态主机配置协议）是一个<strong>局域网的网络协议</strong>，使用UDP协议工作， 主要有两个用途：</p>
<blockquote>
<ul>
<li>给内部网络或网络服务供应商自动分配IP地址，</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>给用户或者内部网络管理员作为对所有计算机作中央管理的手段，</li>
</ul>
</blockquote>
<p><strong>DHCP具有以下功能</strong></p>
<ol>
<li><p>保证任何IP地址在同一时刻只能由一台DHCP客户机所使用。</p>
</li>
<li><p>DHCP应当可以给用户分配永久固定的IP地址。</p>
</li>
<li><p>DHCP应当可以同用其他方法获得IP地址的主机共存（如手工配置IP地址的主机）。</p>
</li>
<li><p>DHCP服务器应当向现有的BOOTP客户端提供服务。</p>
</li>
</ol>
<hr>
<h3><span id="分区">分区</span></h3><h4><span id="分区方式">分区方式</span></h4><h5><span id="选择-gpt-还是-mbr">选择 GPT 还是 MBR</span></h5><p><a href="https://wiki.archlinux.org/index.php/GUID_Partition_Table" target="_blank" rel="noopener">GUID Partition Table</a> （GPT）是一种更灵活的分区方式。它正在逐步取代<a href="https://wiki.archlinux.org/index.php/Master_Boot_Record" target="_blank" rel="noopener">Master Boot Record</a> （MBR）系统。GPT相对于诞生于MS-DOS时代的MBR而言，有许多优点。新版的<em>fdisk</em>（MBR）和<em>gdisk</em>（GPT）使得使用GPT或者MBR在可靠性和性能最大化上都非常容易。</p>
<p>在做出选择前，需要考虑如下内容：</p>
<ul>
<li>如果使用 GRUB legacy 作为bootloader，必须使用MBR。</li>
<li><strong>如果使用传统的BIOS（legacy)，并且双启动中包含 Windows （无论是32位版还是64位版），必须使用MBR</strong></li>
<li>如果使用 <a href="https://wiki.archlinux.org/index.php/UEFI" target="_blank" rel="noopener">UEFI</a> 而不是BIOS，并且双启动中包含 Windows 64位版，必须使用GPT。</li>
<li>非常老的机器需要使用 MBR，因为 BIOS 可能不支持 GPT.</li>
<li>如果不属于上述任何一种情况，可以随意选择使用 GPT 还是 MBR。由于 GPT 更先进，建议选择 GPT。</li>
<li>建议在使用 <a href="https://wiki.archlinux.org/index.php/Unified_Extensible_Firmware_Interface" target="_blank" rel="noopener">UEFI</a> 的情况下选择 GPT，因为有些 UEFI firmware 不支持从 MBR 启动。</li>
</ul>
<blockquote>
<p>补充：MBR（Master Boot Record）,即主引导记录，位于整个硬盘的0磁道0柱面1扇区。不过，在总共512字节的主引导扇区中，MBR只占用了其中的446个字节（偏移0–偏移1BDH），另外的64个字节（偏移1BEH–偏移1FDH）交给了DPT(Disk<br>PartitionTable硬盘分区表),最后两个字节”55，AA”（偏移1FEH-偏移1FFH）是分区的结束标志。这个整体构成了硬盘的主引导扇区。</p>
</blockquote>
<h4><span id="分区表">分区表</span></h4><p>目前有三种分区类型：</p>
<ul>
<li>主分区（Primary）</li>
<li>扩展分区（Extended）<ul>
<li>逻辑分区（Logical）</li>
</ul>
</li>
</ul>
<p><strong>主分区</strong>每个磁盘或者RAID卷上只能有4个，可设置为可启动状态。如果分区方案要求使用4个以上的分区，就需将至少一个分区设置为<strong>扩展分区</strong>,并在上面建立<strong>逻辑分区</strong>。<strong>扩展分区</strong>可以被看作是容纳逻辑分区的容器。硬盘上<em>最多只能有1个</em>扩展分区。如果磁盘上有1个扩展分区，<em>它也被看作是1个主分区</em>。因此只能另外再建立3个主分区（例如3个主分区加1个扩展分区）。扩展分区内所包含的逻辑分区数量没有限制。如果在双重启动中有Windows，Windows需要占据一个主分区。</p>
<blockquote>
<p>通常习惯是创建主分区<em>sda1</em>到<em>sda3</em>，然后建立一个扩展分区<em>sda4</em>。<em>sda4</em>中包含<em>sda5</em>，<em>sda6</em>等逻辑分区。</p>
</blockquote>
<blockquote>
<p>命名为sda_的原因：SCSI接口设备是用sd命名的，其中a表示硬盘编号可能是a、b、c等等,sda是未分区、未格式化的原始硬盘空间。</p>
</blockquote>
<blockquote>
<p>只能分配4个主分区的原因：MBR（Master Boot Record）只有存放4个分区信息的空间（64字节）</p>
</blockquote>
<h4><span id="分区工具">分区工具</span></h4><p>Linux has at least 3 disk tools FDISK;CFDISK;SFDISK. <em>这里使用有交互界面的 <strong>cfdisk</strong> 工具</em></p>
<blockquote>
<p> cfdisk和fdisk没有联系但功能一样</p>
</blockquote>
<h4><span id="开始分区">开始分区</span></h4><p>When recognized by the live system, disks are assigned to a <a href="https://en.wikipedia.org/wiki/Device_file#Naming_conventions" target="_blank" rel="noopener">block device</a> such as <code>/dev/sda</code> or <code>/dev/nvme0n1</code>. To identify these devices, use <a href="https://wiki.archlinux.org/index.php/Lsblk" target="_blank" rel="noopener">lsblk</a> or <em>fdisk</em>.</p>
<pre><code># fdisk -l
</code></pre><pre><code># lsblk
</code></pre><blockquote>
<p> 区别：fdisk列出所有block device，lsblk则更简洁，只列出loop0，sr0和硬盘，<strong>推荐用lsblk查看分区情况</strong></p>
</blockquote>
<p>使用cfdisk工具进行新建分区等操作</p>
<pre><code># cfdisk
</code></pre><h6><span id="简单英文解释">简单英文解释</span></h6><ol>
<li>bootable：可引导的（<em>待补充</em>）</li>
<li>resize：重新指定分区大小，当硬盘空间为8g，已有分区为8g，则需resize使已有分区&lt;8g才能够新建分区。</li>
<li>type：the type of partition,比如（Linux,Linux extended,CP/M)</li>
<li>write: 只有在进行此操作后此前进行过的修改才会保存</li>
<li>dump：</li>
<li>quit:<strong>不保存</strong>在write之前的修改并退出</li>
</ol>
<hr>
<blockquote>
<p>补充：root是用户名，前面数字是上一个命令的exit status，出现1root，127root等是某种东西报错，使用exit回到root。</p>
</blockquote>
<hr>
<h4><span id="对分区进行格式化">对分区进行格式化</span></h4><pre><code># mkfs.ext4 /dev/sda1
</code></pre><blockquote>
<p>添加分区之前要将磁盘格式化为某个具体的文件格式，这样才能正常存储和读取。</p>
<p>使用mkfs -t 格式类型 磁盘路径 或 mkfs.格式类型 磁盘路径</p>
</blockquote>
<h5><span id="ext4">ext4</span></h5><p>EXT4（第四扩展文件系统）：文件系统是Linux系统下的日志文件系统，是ext3文件系统的后继版本，但是Ext4是Linux文件系统的一次改进。在很多方面，Ext4相对于Ext3的进步要远超过Ext3相对于Ext2的进步。Ext3相对于 Ext2的改进主要在于日志方面，但是Ext4相对于Ext3的的改进是更深层次的，是文件系统数据结构方面的优化，是一个高效的、优秀的、可靠的和极具特点的文件系统，并且EXT3可以转为EXT4的。</p>
<hr>
<h3><span id="挂载文件系统">挂载文件系统</span></h3><p><a href="https://wiki.archlinux.org/index.php/Mount" target="_blank" rel="noopener">Mount</a> the file system on the root partition to <code>/mnt</code>, for example:</p>
<p>使/dev/sda1上的文件系统挂载到/mnt上</p>
<pre><code>#mount /dev/sda1 /mnt
</code></pre><p>为任何剩余的分区创建安装点并相应地安装它们：</p>
<pre><code>#mkdir /mnt/boot 
#mount /dev/sda2/ mnt/boot
</code></pre><p>取消挂载</p>
<pre><code>#umount /dev/sda2
</code></pre><p>或者q取消全部挂载</p>
<pre><code>#umount /mnt
</code></pre><p>列出已安装的文件系统</p>
<pre><code>#findmnt
</code></pre><p><em>findmnt</em>采用各种参数，可以过滤输出并显示其他信息。例如，它可以将设备或挂载点作为参数来仅显示有关指定内容的信息：</p>
<pre><code># findmnt /dev/sda1
</code></pre><h5><span id="mount">mount</span></h5><p>This attaches the filesystem on <code>/dev/sda1</code> at the directory <code>/mnt</code>, making the contents of the filesystem <strong>visible</strong>. Any data that existed at <code>/mnt</code> before this action is made <strong>invisible</strong> until the device is <strong>unmounted</strong>.</p>
<h5><span id="源于linux学习笔记二什么是挂载mount的用处在哪">源于</span></h5><p>linux操作系统将所有的设备都看作文件，它将整个计算机的资源都整合成一个大的文件目录。我们要访问存储设备中的文件，必须将文件所在的分区挂载到一个已存在的目录上，然后通过访问这个目录来访问存储设备。挂载就是把设备放在一个目录下，让系统知道怎么管理这个设备里的文件，了解这个存储设备的可读写特性之类的过程。</p>
<p>/dev/sda1不是它的目录。虽然/dev是个目录，但/dev/sda1不是目录。可以发现ls/dev/sda1无法执行。/dev/sda1，是一个类似指针的东西，指向这个分区的原始数据块。mount前，系统并不知道这个数据块哪部分数据代表文件，如何对它们操作。</p>
<blockquote>
<ul>
<li>补充：一般情况下关机自动取消挂载</li>
<li>可配置文件是他永久挂载</li>
</ul>
</blockquote>
<hr>
<h2><span id="installation">Installation</span></h2><h3><span id="select-the-mirrors">Select the mirrors</span></h3><p>Packages to be installed must be downloaded from <a href="https://wiki.archlinux.org/index.php/Mirrors" target="_blank" rel="noopener">mirror servers</a>, which are defined in <strong><code>/etc/pacman.d/mirrorlist</code>.</strong> On the live system, all mirrors are enabled, and sorted by their synchronization status and speed at the time the installation image was created.</p>
<p>The higher a mirror is placed in the list, the more priority it is given when downloading a package. You may want to edit the file accordingly, and <strong>move the geographically closest mirrors to the top of the list</strong>, although other criteria should be taken into account.</p>
<p>This file will later be copied to the new system by <em>pacstrap</em>, so it is worth getting right.</p>
<h4><span id="更改镜像源">更改镜像源</span></h4><p>更改镜像源的原因与从开源镜像站下载iso的原因相同，都是为了下载更快更稳定。</p>
<p>打开镜像源文件</p>
<pre><code>vim /etc/pacman.d/mirrorlist
</code></pre><p>在开头模仿已有镜像源的样子(在后面加上…）加入各镜像站，推荐<a href="https://mirrors.tuna.tsinghua.edu.cn/" target="_blank" rel="noopener">清华镜像站</a>,<a href="https://mirrors.163.com/" target="_blank" rel="noopener">网易镜像站</a>,可参考<a href="https://www.cnbeta.com/articles/soft/194758.htm" target="_blank" rel="noopener">大陆各镜像站汇总</a>和<a href="https://www.archlinux.org/mirrors/status/" target="_blank" rel="noopener">镜像汇总</a>，用w保存编辑，q退出，<strong>!q</strong>是不保存编辑并退出 </p>
<h3><span id="install-the-base-packages">Install the base packages</span></h3><p>Use the <a href="https://projects.archlinux.org/arch-install-scripts.git/tree/pacstrap.in" target="_blank" rel="noopener">pacstrap</a> script to install the <a href="https://www.archlinux.org/groups/x86_64/base/" target="_blank" rel="noopener">base</a> package group:</p>
<pre><code># pacstrap /mnt base
</code></pre><p>This group does not include all tools from the live installation, such as <a href="https://www.archlinux.org/packages/?name=btrfs-progs" target="_blank" rel="noopener">btrfs-progs</a> or specific wireless firmware; see <a href="https://projects.archlinux.org/archiso.git/tree/configs/releng/packages.x86_64" target="_blank" rel="noopener">packages.x86_64</a> for comparison.</p>
<p>To <a href="https://wiki.archlinux.org/index.php/Install" target="_blank" rel="noopener">install</a> packages and other groups such as <a href="https://www.archlinux.org/groups/x86_64/base-devel/" target="_blank" rel="noopener">base-devel</a>, append the names to <em>pacstrap</em> (space separated) or to individual <a href="https://wiki.archlinux.org/index.php/Pacman" target="_blank" rel="noopener">pacman</a> commands after the <a href="https://wiki.archlinux.org/index.php/Installation_guide#Chroot" target="_blank" rel="noopener">#Chroot</a> step.</p>
<blockquote>
<ul>
<li>pacstrap：按字面理解，pac就是package（软件包），strap的意思是用带子捆扎，pacstrap意思就是打好包的软件，在arch系统这是一个脚本文件的名称，它的作用就是安装arch基本系统。</li>
<li>base package group：<em>基本</em>的软件包<em>包括</em>了系统运行所必需的所有软件包。比如有GNU BASH shell、文件压缩工具、文件<em>系统</em>管理工具、C 语言库、压缩工具等</li>
</ul>
</blockquote>

            </div>
            <hr>

            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            <div class="reprint">
                <p>
                    <span class="reprint-tip">转载请注明: </span>
                    <a href="http://yoursite.com" class="b-link-green">One Fly Bird's Nest</a>
                    <i class="fa fa-angle-right fa-lg fa-fw text-color"></i>
                    <a href="/2018/11/18/archlinux基础安装步骤/" class="b-link-green">archlinux基础安装步骤</a>
                </p>
            </div>
        </div>
    </div>

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">上一篇</div>
            <div class="card">
                <a href="/2018/11/20/今天的小收获系列之一/">
                    <div class="card-image">
                        
                        <img src="http://5b0988e595225.cdn.sohucs.com/images/20171006/d8ce65e907084151911b9f84ce83bc69.jpeg" class="responsive-img" alt="今天的小收获系列之一">
                        
                        <span class="card-title">今天的小收获系列之一</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary">
主要内容为hexo静态博客和动态博客的区别，cookie和一个git里显示‘/’路径的小贴士

hexo静态博客和动态博客的区别文章来源：静态博客和动态博客的区别
浏览网站的这一过程，本质上就是自己电脑上的浏览器程序解释通过Http协议从</div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2018-11-20
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/little-knowledge/" class="post-category" target="_blank">
                                    little knowledge
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/cookie/" target="_blank">
                        <span class="chip bg-color">cookie</span>
                    </a>
                    
                    <a href="/tags/存储路径/" target="_blank">
                        <span class="chip bg-color">存储路径</span>
                    </a>
                    
                    <a href="/tags/动态博客/" target="_blank">
                        <span class="chip bg-color">动态博客</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">下一篇</div>
            <div class="card">
                <a href="/2018/11/17/python的flask框架/">
                    <div class="card-image">
                        
                        <img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1542974916891&amp;di=79a52e0a519da3213551079710f36b5e&amp;imgtype=0&amp;src=http%3A%2F%2Fimgsrc.baidu.com%2Fimgad%2Fpic%2Fitem%2Fd62a6059252dd42a9e4aa67f093b5bb5c8eab8a7.jpg" class="responsive-img" alt="python的flask框架">
                        
                        <span class="card-title">python的flask框架</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary">任务做出一个随机生成身份证码的网页

前期准备
黑马程序员入门视频（表单之前即可完成任务）
flask官方中文手册
flask官方英文手册
pycharm3专业版
在终端上生成身份证的代码

安装flaskpip install Flask</div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2018-11-17
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/python/" class="post-category" target="_blank">
                                    python
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/flask/" target="_blank">
                        <span class="chip bg-color">flask</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>
    </div>
    <div class="col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title">目录</div>
            <div id="toc-content">

            </div>
        </div>
    </div>
</div>

<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingSelector: 'h1,h2, h3, h4,h5,h6'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1,h2, h3, h4,h5,h6').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });
    });
</script>
    

</main>

<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            本站由&copy;<a href="https://blinkfox.github.io/" target="_blank">Oneflybird</a>基于
            <a href="https://hexo.io/" target="_blank">Hexo</a> 采用
            <a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">hexo-theme-matery</a>的主题搭建.
        </div>
        <div class="col s12 m4 l4 social-link"><a href="https://github.com/oneflybird" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
    <i class="fa fa-github"></i>
</a>
<a href="mailto:1361569005@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
    <i class="fa fa-envelope-open"></i>
</a>
<a href="#!" class="tooltipped" data-tooltip="QQ联系我: 1361569005" data-position="top" data-delay="50">
    <i class="fa fa-qq"></i>
</a>
</div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title">搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input" autofocus>
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
</script>
<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


<script src="/libs/materialize/js/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/z16.model.json"},"display":{"position":"right","width":130,"height":150},"mobile":{"show":false},"log":false});</script></body>
</html>
